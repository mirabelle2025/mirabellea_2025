
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>JavaScript For Loops and Sprites | Nighthawk Pages</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="JavaScript For Loops and Sprites" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An introduction to JavaScript for loops and working with Sprites." />
<meta property="og:description" content="An introduction to JavaScript for loops and working with Sprites." />
<link rel="canonical" href="http://localhost:4100/mirabellea_2025/csse/javascript/fundamentals/for-loops/" />
<meta property="og:url" content="http://localhost:4100/mirabellea_2025/csse/javascript/fundamentals/for-loops/" />
<meta property="og:site_name" content="Nighthawk Pages" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-09-30T00:00:00-07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="JavaScript For Loops and Sprites" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-09-30T00:00:00-07:00","datePublished":"2024-09-30T00:00:00-07:00","description":"An introduction to JavaScript for loops and working with Sprites.","headline":"JavaScript For Loops and Sprites","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4100/mirabellea_2025/csse/javascript/fundamentals/for-loops/"},"url":"http://localhost:4100/mirabellea_2025/csse/javascript/fundamentals/for-loops/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/mirabellea_2025/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4100/mirabellea_2025/feed.xml" title="Nighthawk Pages" />

<!-- Include favicons --><link rel="shortcut icon" type="image/x-icon" href="/mirabellea_2025/images/favicon.ico"><!-- Include Primer CSS for styling -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />

<!-- Include Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<!-- Include Hypothesis annotations script if annotations are enabled --><!-- Include KaTeX and MathJax for rendering mathematical expressions if use_math is enabled -->


<script>
/**
 * Function to wrap images with a figure and caption if they have a title attribute.
 * This function is executed when the window loads.
 */
function wrap_img(fn) {
    // Check if the document is already loaded
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        // Select all images within elements with the class 'post'
        var elements = document.querySelectorAll(".post img");
        // Iterate over each image element
        Array.prototype.forEach.call(elements, function(el, i) {
            // Check if the image has a title attribute and is not an emoji
            if (el.getAttribute("title") && (el.className != "emoji")) {
                // Create a figcaption element for the caption
                const caption = document.createElement('figcaption');
                // Create a text node with the title attribute value
                var node = document.createTextNode(el.getAttribute("title"));
                // Append the text node to the figcaption element
                caption.appendChild(node);
                // Create a figure element to wrap the image and caption
                const wrapper = document.createElement('figure');
                // Add the 'image' class to the figure element
                wrapper.className = 'image';
                // Insert the figure element before the image
                el.parentNode.insertBefore(wrapper, el);
                // Remove the image from its original position
                el.parentNode.removeChild(el);
                // Append the image and caption to the figure element
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else {
        // If the document is not loaded, add an event listener to execute the function when it is
        document.addEventListener('DOMContentLoaded', fn);
    }
}
// Execute the wrap_img function when the window loads
window.onload = wrap_img;
</script>

<script>
/**
 * Function to add a link icon to anchor tags with the class 'anchor-link'.
 * This function is executed when the DOM content is loaded.
 */
document.addEventListener("DOMContentLoaded", function(){
    // Select all elements with the class 'anchor-link'
    var elem = document.querySelectorAll(".anchor-link");
    // Iterate over each element and set its inner HTML to a Font Awesome link icon
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
});
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/mirabellea_2025/">Nighthawk Pages</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/mirabellea_2025/blogs/">Blogs</a><a class="page-link" href="/mirabellea_2025/search/">Search</a><a class="page-link" href="/mirabellea_2025/about/">About Mirabelle</a><a class="page-link" href="/mirabellea_2025/README4YML.html">Readme</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
    <div class="wrapper">
      <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header"><h1 class="post-title p-name" itemprop="name headline">JavaScript For Loops and Sprites</h1><p class="page-description">An introduction to JavaScript for loops and working with Sprites.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2024-09-30T00:00:00-07:00" itemprop="datePublished">
        Sep 30, 2024
      </time>• <span class="read-time" title="Estimated read time">
    
    
      4 min read
    
</span>
    </p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
          <a class="category-tags-link" href="/mirabellea_2025/categories/ap#JavaScript Fundamentals">JavaScript Fundamentals</a>
        
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody"><h2 id="metadata-class-for-loops">MetaData, Class, For Loops</h2>

<p>Objective is to increase knowledge and understanding on MetaData, Class Definition, and For-Loops.</p>

<p><strong>MetaData</strong>: In this article the MetaData contains information about the sprite, including its name, source URL, and orientation details such as the number of rows and columns, header size, padding, and jagged rows.</p>

<p><strong>Class</strong>: In this context the canvas and drawing operations are intialized and stored in a class. These are used to output sprite sheet image and individual frames within the sprite sheet.</p>
<ul>
  <li><strong>constructor</strong>: Initializes the canvas, context, and sprite image.</li>
  <li><strong>draw() method</strong>: Uses nested <strong>**for-loops</strong> to iterate through the sprite sheet and draw each frame independently on the canvas. It calculates the source and destination coordinates for each frame, taking into account the header and padding.</li>
</ul>

<h3 id="hack-1">Hack #1</h3>

<p>Make a new code block for some Sprite(s) you have in your “Ideation”.  This project is planning on a Penguin called Tux.</p>

<ul>
  <li>MetaData: data that describes the file
    <ul>
      <li>name: is friendly identfier for the file</li>
      <li>src: is the location of the file</li>
    </ul>
  </li>
  <li>drawImage: when used with five parameters outputs the entirety of the file</li>
  <li>class: contains a constructor and draw method to read and output file</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">html</span>

<span class="o">&lt;</span><span class="n">style</span><span class="o">&gt;</span>
    <span class="c1">#gameCanvas {
</span>        <span class="n">border</span><span class="p">:</span> <span class="mi">4</span><span class="n">px</span> <span class="n">solid</span> <span class="n">rgb</span><span class="p">(</span><span class="mi">102</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">canvas</span> <span class="nb">id</span><span class="o">=</span><span class="s">"gameCanvas"</span> <span class="n">width</span><span class="o">=</span><span class="s">"521"</span> <span class="n">height</span><span class="o">=</span><span class="s">"967"</span><span class="o">&gt;&lt;/</span><span class="n">canvas</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">defineAndDrawImage</span><span class="p">()</span> <span class="p">{</span>
        <span class="o">/**</span>
        <span class="o">*</span> <span class="n">Function</span> <span class="n">to</span> <span class="n">define</span> <span class="n">the</span> <span class="n">sprite</span> <span class="n">metadata</span> <span class="k">for</span> <span class="n">Tux</span> <span class="n">the</span> <span class="n">penguin</span>
        <span class="o">*</span> <span class="o">@</span><span class="n">returns</span> <span class="p">{</span><span class="n">Object</span><span class="p">}</span> <span class="n">spriteMetaData</span> <span class="o">-</span> <span class="n">The</span> <span class="n">metadata</span> <span class="k">for</span> <span class="n">the</span> <span class="n">Tux</span> <span class="n">sprite</span>
        <span class="o">*/</span>
        <span class="n">function</span> <span class="n">TuxSpriteMetaData</span><span class="p">()</span> <span class="p">{</span>
            <span class="o">//</span> <span class="n">NPC</span> <span class="n">sprite</span> <span class="n">data</span> <span class="p">(</span><span class="n">Tux</span> <span class="n">the</span> <span class="n">penguin</span><span class="p">)</span>
            <span class="n">const</span> <span class="n">spriteMetaData</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">name</span><span class="p">:</span> <span class="s">'tux'</span><span class="p">,</span>
                <span class="n">src</span><span class="p">:</span>  <span class="s">"./tux.png"</span><span class="p">,</span>
            <span class="p">};</span>

            <span class="k">return</span> <span class="n">spriteMetaData</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="o">/**</span>
        <span class="o">*</span> <span class="n">Class</span> <span class="n">to</span> <span class="n">handle</span> <span class="n">the</span> <span class="n">canvas</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">drawing</span> <span class="n">of</span> <span class="n">the</span> <span class="n">image</span> <span class="nb">file</span>
        <span class="o">*/</span>
        <span class="k">class</span> <span class="nc">CanvasDrawImage</span> <span class="p">{</span>
            <span class="n">constructor</span><span class="p">(</span><span class="n">spriteMetaData</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">this</span><span class="p">.</span><span class="n">INIT_POSITION</span> <span class="o">=</span> <span class="p">{</span> <span class="n">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="mi">0</span> <span class="p">};</span>
                <span class="n">this</span><span class="p">.</span><span class="n">spriteMetaData</span> <span class="o">=</span> <span class="n">spriteMetaData</span><span class="p">;</span>
                <span class="n">this</span><span class="p">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">document</span><span class="p">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s">'gameCanvas'</span><span class="p">);</span>
                <span class="n">this</span><span class="p">.</span><span class="n">ctx</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="n">getContext</span><span class="p">(</span><span class="s">'2d'</span><span class="p">);</span>
                <span class="n">this</span><span class="p">.</span><span class="n">spriteImage</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Image</span><span class="p">();</span>
                <span class="n">this</span><span class="p">.</span><span class="n">spriteImage</span><span class="p">.</span><span class="n">src</span> <span class="o">=</span> <span class="n">spriteMetaData</span><span class="p">.</span><span class="n">src</span><span class="p">;</span>
                <span class="n">this</span><span class="p">.</span><span class="n">spriteImage</span><span class="p">.</span><span class="n">onload</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="n">this</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span> <span class="o">//</span> <span class="n">Ensure</span> <span class="n">draw</span> <span class="ow">is</span> <span class="n">called</span> <span class="n">after</span> <span class="n">image</span> <span class="ow">is</span> <span class="n">loaded</span>
            <span class="p">}</span>

            <span class="o">//</span> <span class="n">Method</span> <span class="n">to</span> <span class="n">draw</span> <span class="n">the</span> <span class="n">sprite</span> <span class="n">on</span> <span class="n">the</span> <span class="n">canvas</span>
            <span class="n">draw</span><span class="p">()</span> <span class="p">{</span>
                <span class="o">//</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">size</span> <span class="n">of</span> <span class="n">the</span> <span class="n">sprite</span> <span class="nb">file</span><span class="p">,</span> <span class="n">calculated</span> <span class="k">from</span> <span class="n">the</span> <span class="n">PNG</span> <span class="nb">file</span> 
                <span class="n">const</span> <span class="n">width</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="n">spriteImage</span><span class="p">.</span><span class="n">width</span><span class="p">;</span> 
                <span class="n">const</span> <span class="n">height</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="n">spriteImage</span><span class="p">.</span><span class="n">height</span><span class="p">;</span>

                <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="sb">`Drawing sprite: ${this.spriteMetaData.name}`</span><span class="p">);</span>
                <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="sb">`Sprite Dimensions: ${width}x${height}`</span><span class="p">);</span>

                <span class="n">this</span><span class="p">.</span><span class="n">ctx</span><span class="p">.</span><span class="n">drawImage</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">spriteImage</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">const</span> <span class="n">tux</span> <span class="o">=</span> <span class="n">new</span> <span class="n">CanvasDrawImage</span><span class="p">(</span><span class="n">TuxSpriteMetaData</span><span class="p">());</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">Call</span> <span class="n">the</span> <span class="n">function</span> <span class="n">to</span> <span class="n">define</span> <span class="n">the</span> <span class="k">class</span> <span class="nc">and</span> <span class="n">draw</span> <span class="n">the</span> <span class="n">sprite</span>
    <span class="n">defineAndDrawImage</span><span class="p">();</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</code></pre></div></div>

<style>
    #gameCanvas {
        border: 4px solid rgb(102, 4, 4);
    }
</style>

<canvas id="gameCanvas" width="521" height="967"></canvas>

<script>
    function defineAndDrawImage() {
        /**
        * Function to define the sprite metadata for Tux the penguin
        * @returns {Object} spriteMetaData - The metadata for the Tux sprite
        */
        function TuxSpriteMetaData() {
            // NPC sprite data (Tux the penguin)
            const spriteMetaData = {
                name: 'tux',
                src:  "./tux.png",
            };

            return spriteMetaData;
        }

        /**
        * Class to handle the canvas data and drawing of the image file
        */
        class CanvasDrawImage {
            constructor(spriteMetaData) {
                this.INIT_POSITION = { x: 0, y: 0 };
                this.spriteMetaData = spriteMetaData;
                this.canvas = document.getElementById('gameCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.spriteImage = new Image();
                this.spriteImage.src = spriteMetaData.src;
                this.spriteImage.onload = () => this.draw(); // Ensure draw is called after image is loaded
            }

            // Method to draw the sprite on the canvas
            draw() {
                // This is the size of the sprite file, calculated from the PNG file 
                const width = this.spriteImage.width; 
                const height = this.spriteImage.height;

                console.log(`Drawing sprite: ${this.spriteMetaData.name}`);
                console.log(`Sprite Dimensions: ${width}x${height}`);

                this.ctx.drawImage(this.spriteImage, 0, 0, width, height);
            }
        }

        const tux = new CanvasDrawImage(TuxSpriteMetaData());
    }

    // Call the function to define the class and draw the sprite
    defineAndDrawImage();
</script>

<h3 id="hack-2">Hack #2</h3>

<p>See if you can get the frames of your sprite frames to display indepedently.</p>

<ul>
  <li>MetaData: name, src, orientation describe the sprite file
    <ul>
      <li>orientation: describes layout of sprite in PNG file
        <ul>
          <li>header: size of area of description above the sprite</li>
          <li>pad: size of area between the sprites</li>
          <li>jagged: means each row can contain a different amout of sprites</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>drawImage: In the 9 property format it provides ability to have source scale into destination.</li>
  <li>class: continues using constructor and draw for source and output; adds math to abstract each frame independently</li>
  <li>for-loops:  show nested for loops to process each frame within the 2D sprite sheet.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">html</span>

<span class="o">&lt;</span><span class="n">style</span><span class="o">&gt;</span>
    <span class="c1">#gameCanvasUnique {
</span>        <span class="n">border</span><span class="p">:</span> <span class="mi">4</span><span class="n">px</span> <span class="n">solid</span> <span class="n">rgb</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">33</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">canvas</span> <span class="nb">id</span><span class="o">=</span><span class="s">"gameCanvasUnique"</span> <span class="n">width</span><span class="o">=</span><span class="s">"521"</span> <span class="n">height</span><span class="o">=</span><span class="s">"967"</span><span class="o">&gt;&lt;/</span><span class="n">canvas</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">//</span> <span class="n">outer</span> <span class="n">fucntion</span> <span class="ow">is</span> <span class="n">required</span> <span class="n">by</span> <span class="n">Jupyter</span> <span class="n">Notebook</span> <span class="n">to</span> <span class="n">avoid</span> <span class="n">conflicts</span>
<span class="n">function</span> <span class="n">defineAndDrawSprite</span><span class="p">()</span> <span class="p">{</span>

    <span class="o">/**</span>
     <span class="o">*</span> <span class="n">Function</span> <span class="n">to</span> <span class="n">define</span> <span class="n">the</span> <span class="n">sprite</span> <span class="n">metadata</span> <span class="k">for</span> <span class="n">Tux</span> <span class="n">the</span> <span class="n">penguin</span>
     <span class="o">*</span> <span class="o">@</span><span class="n">returns</span> <span class="p">{</span><span class="n">Object</span><span class="p">}</span> <span class="n">spriteMetaData</span> <span class="o">-</span> <span class="n">The</span> <span class="n">metadata</span> <span class="k">for</span> <span class="n">the</span> <span class="n">Tux</span> <span class="n">sprite</span>
     <span class="o">*/</span>
    <span class="n">function</span> <span class="n">TuxSpriteMetaData</span><span class="p">()</span> <span class="p">{</span>
        <span class="o">//</span> <span class="n">NPC</span> <span class="n">sprite</span> <span class="n">data</span> <span class="p">(</span><span class="n">Tux</span> <span class="n">the</span> <span class="n">penguin</span><span class="p">)</span>
        <span class="n">const</span> <span class="n">spriteMetaData</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">name</span><span class="p">:</span> <span class="s">'tux'</span><span class="p">,</span>
            <span class="n">src</span><span class="p">:</span>  <span class="s">"./tux.png"</span><span class="p">,</span>
            <span class="n">orientation</span><span class="p">:</span> <span class="p">{</span><span class="n">rows</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> 
                    <span class="n">header</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> <span class="n">pad</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> 
                    <span class="n">jagged</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> 
                <span class="p">},</span>
        <span class="p">};</span>

        <span class="k">return</span> <span class="n">spriteMetaData</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="o">/**</span>
     <span class="o">*</span> <span class="n">Class</span> <span class="n">to</span> <span class="n">handle</span> <span class="n">the</span> <span class="n">canvas</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">drawing</span> <span class="n">of</span> <span class="n">the</span> <span class="n">sprite</span>
     <span class="o">*/</span>
    <span class="k">class</span> <span class="nc">CanvasData</span> <span class="p">{</span>

        <span class="n">constructor</span><span class="p">(</span><span class="n">spriteMetaData</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">this</span><span class="p">.</span><span class="n">spriteMetaData</span> <span class="o">=</span> <span class="n">spriteMetaData</span><span class="p">;</span>
            <span class="n">this</span><span class="p">.</span><span class="n">INIT_POSITION</span> <span class="o">=</span> <span class="p">{</span> <span class="n">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="mi">0</span><span class="p">};</span>
            <span class="n">this</span><span class="p">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">document</span><span class="p">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s">'gameCanvasUnique'</span><span class="p">);</span>
            <span class="n">this</span><span class="p">.</span><span class="n">ctx</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="n">getContext</span><span class="p">(</span><span class="s">'2d'</span><span class="p">);</span>
            <span class="n">this</span><span class="p">.</span><span class="n">spriteImage</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Image</span><span class="p">();</span>
            <span class="n">this</span><span class="p">.</span><span class="n">spriteImage</span><span class="p">.</span><span class="n">src</span> <span class="o">=</span> <span class="n">spriteMetaData</span><span class="p">.</span><span class="n">src</span>
            <span class="n">this</span><span class="p">.</span><span class="n">spriteImage</span><span class="p">.</span><span class="n">onload</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="n">this</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span> <span class="o">//</span> <span class="n">Ensure</span> <span class="n">draw</span> <span class="ow">is</span> <span class="n">called</span> <span class="n">after</span> <span class="n">image</span> <span class="ow">is</span> <span class="n">loaded</span>
        <span class="p">}</span>

        <span class="o">//</span> <span class="n">Method</span> <span class="n">to</span> <span class="n">draw</span> <span class="n">each</span> <span class="n">sprite</span> <span class="n">individually</span>
        <span class="n">draw</span><span class="p">()</span> <span class="p">{</span>
            <span class="o">//</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">size</span> <span class="n">of</span> <span class="n">the</span> <span class="n">sprite</span> <span class="nb">file</span><span class="p">,</span> <span class="n">calculated</span> <span class="k">from</span> <span class="n">the</span> <span class="n">PNG</span> <span class="nb">file</span> 
            <span class="n">const</span> <span class="n">sheetWidth</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="n">spriteImage</span><span class="p">.</span><span class="n">width</span><span class="p">;</span> 
            <span class="n">const</span> <span class="n">sheetHeight</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="n">spriteImage</span><span class="p">.</span><span class="n">height</span><span class="p">;</span>
            <span class="o">//</span> <span class="n">This</span> <span class="n">meta</span> <span class="n">data</span> <span class="n">describes</span> <span class="n">the</span> <span class="n">sprite</span> <span class="n">sheet</span>
            <span class="n">const</span> <span class="n">rows</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="n">spriteMetaData</span><span class="p">.</span><span class="n">orientation</span><span class="p">.</span><span class="n">rows</span><span class="p">;</span>
            <span class="n">const</span> <span class="n">cols</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="n">spriteMetaData</span><span class="p">.</span><span class="n">orientation</span><span class="p">.</span><span class="n">columns</span><span class="p">;</span>
            <span class="n">const</span> <span class="n">jagged</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="n">spriteMetaData</span><span class="p">.</span><span class="n">orientation</span><span class="p">.</span><span class="n">jagged</span> <span class="o">||</span> <span class="n">null</span><span class="p">;</span>
            <span class="n">const</span> <span class="n">header</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="n">spriteMetaData</span><span class="p">.</span><span class="n">orientation</span><span class="p">.</span><span class="n">header</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
            <span class="n">const</span> <span class="n">pad</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="n">spriteMetaData</span><span class="p">.</span><span class="n">orientation</span><span class="p">.</span><span class="n">pad</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
            <span class="o">//</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">initial</span> <span class="n">output</span> <span class="n">position</span> <span class="n">on</span> <span class="n">the</span> <span class="n">canvas</span>
            <span class="n">const</span> <span class="n">x</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="n">INIT_POSITION</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
            <span class="n">const</span> <span class="n">y</span> <span class="o">=</span> <span class="n">this</span><span class="p">.</span><span class="n">INIT_POSITION</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>

            <span class="o">//</span> <span class="n">Calculate</span> <span class="n">the</span> <span class="n">dimensions</span> <span class="n">of</span> <span class="n">each</span> <span class="n">individual</span> <span class="n">sprite</span>
            <span class="n">const</span> <span class="n">spriteWidth</span> <span class="o">=</span> <span class="n">sheetWidth</span> <span class="o">/</span> <span class="n">cols</span><span class="p">;</span>
            <span class="n">const</span> <span class="n">spriteHeight</span> <span class="o">=</span> <span class="p">(</span><span class="n">sheetHeight</span> <span class="o">-</span> <span class="n">header</span> <span class="o">*</span> <span class="n">rows</span><span class="p">)</span> <span class="o">/</span> <span class="n">rows</span><span class="p">;</span>

            <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="sb">`Sprite Sheet Dimensions: ${sheetWidth}x${sheetHeight}`</span><span class="p">);</span>
            <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="sb">`Individual Sprite Dimensions: ${spriteWidth}x${spriteHeight}`</span><span class="p">);</span>
            <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="sb">`Rows: ${rows}, Columns: ${cols}`</span><span class="p">);</span>

            <span class="o">//</span> <span class="n">Nested</span> <span class="k">for</span> <span class="n">loop</span> <span class="n">to</span> <span class="n">draw</span> <span class="mi">2</span> <span class="n">dimensional</span> <span class="n">sprite</span> <span class="n">sheet</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">let</span> <span class="n">row</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">row</span> <span class="o">&lt;</span>  <span class="n">rows</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">const</span> <span class="n">columnsInRow</span> <span class="o">=</span> <span class="n">jagged</span> <span class="err">?</span> <span class="n">jagged</span><span class="p">[</span><span class="n">row</span><span class="p">]</span> <span class="o">||</span> <span class="n">cols</span> <span class="p">:</span> <span class="n">cols</span><span class="p">;</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">let</span> <span class="n">col</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">col</span> <span class="o">&lt;</span> <span class="n">columnsInRow</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">const</span> <span class="n">srcX</span> <span class="o">=</span> <span class="n">col</span> <span class="o">*</span> <span class="n">spriteWidth</span><span class="p">;</span>
                    <span class="n">const</span> <span class="n">srcY</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="p">(</span><span class="n">spriteHeight</span> <span class="o">+</span> <span class="n">header</span> <span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">pad</span> <span class="o">*</span> <span class="n">row</span><span class="p">);</span>
                    <span class="n">const</span> <span class="n">destX</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">col</span> <span class="o">*</span> <span class="n">spriteWidth</span><span class="p">;</span>
                    <span class="n">const</span> <span class="n">destY</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">row</span> <span class="o">*</span> <span class="n">spriteHeight</span><span class="p">;</span>
                    <span class="n">const</span> <span class="n">destWidth</span> <span class="o">=</span> <span class="n">spriteWidth</span><span class="p">;</span>
                    <span class="n">const</span> <span class="n">destHeight</span> <span class="o">=</span> <span class="n">spriteHeight</span><span class="p">;</span>

                    <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="sb">`Drawing row: ${row}, column: ${col}`</span><span class="p">);</span>
                    <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="sb">`Source: (${srcX}, ${srcY}, ${spriteWidth}, ${spriteHeight})`</span><span class="p">);</span>
                    <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="sb">`Destination: (${destX}, ${destY}, ${destWidth}, ${destHeight})`</span><span class="p">);</span>

                    <span class="n">this</span><span class="p">.</span><span class="n">ctx</span><span class="p">.</span><span class="n">drawImage</span><span class="p">(</span>
                        <span class="n">this</span><span class="p">.</span><span class="n">spriteImage</span><span class="p">,</span>
                        <span class="n">srcX</span><span class="p">,</span> <span class="n">srcY</span> <span class="o">+</span> <span class="n">header</span><span class="p">,</span> <span class="n">spriteWidth</span><span class="p">,</span> <span class="n">spriteHeight</span><span class="p">,</span> <span class="o">//</span> <span class="n">Source</span> <span class="n">rectangle</span>
                        <span class="n">destX</span><span class="p">,</span> <span class="n">destY</span><span class="p">,</span> <span class="n">destWidth</span><span class="p">,</span> <span class="n">destHeight</span> <span class="o">//</span> <span class="n">Destination</span> <span class="n">rectangle</span>
                    <span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="p">}</span>

    <span class="o">//</span> <span class="n">Setup</span> <span class="n">to</span> <span class="n">Tux</span> <span class="n">sprite</span>
    <span class="n">const</span> <span class="n">tux</span> <span class="o">=</span> <span class="n">new</span> <span class="n">CanvasData</span><span class="p">(</span><span class="n">TuxSpriteMetaData</span><span class="p">());</span>
 <span class="p">}</span>

<span class="n">defineAndDrawSprite</span><span class="p">();</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</code></pre></div></div>

<style>
    #gameCanvasUnique {
        border: 4px solid rgb(4, 102, 33);
    }
</style>

<canvas id="gameCanvasUnique" width="521" height="967"></canvas>

<script>
// outer fucntion is required by Jupyter Notebook to avoid conflicts
function defineAndDrawSprite() {

    /**
     * Function to define the sprite metadata for Tux the penguin
     * @returns {Object} spriteMetaData - The metadata for the Tux sprite
     */
    function TuxSpriteMetaData() {
        // NPC sprite data (Tux the penguin)
        const spriteMetaData = {
            name: 'tux',
            src:  "./tux.png",
            orientation: {rows: 10, columns: 8, 
                    header: 16, pad: 2, 
                    jagged: [1, 2, 1, 1, 1, 1, 1, 7, 8, 4] 
                },
        };

        return spriteMetaData;
    }

    /**
     * Class to handle the canvas data and drawing of the sprite
     */
    class CanvasData {

        constructor(spriteMetaData) {
            this.spriteMetaData = spriteMetaData;
            this.INIT_POSITION = { x: 0, y: 0};
            this.canvas = document.getElementById('gameCanvasUnique');
            this.ctx = this.canvas.getContext('2d');
            this.spriteImage = new Image();
            this.spriteImage.src = spriteMetaData.src
            this.spriteImage.onload = () => this.draw(); // Ensure draw is called after image is loaded
        }

        // Method to draw each sprite individually
        draw() {
            // This is the size of the sprite file, calculated from the PNG file 
            const sheetWidth = this.spriteImage.width; 
            const sheetHeight = this.spriteImage.height;
            // This meta data describes the sprite sheet
            const rows = this.spriteMetaData.orientation.rows;
            const cols = this.spriteMetaData.orientation.columns;
            const jagged = this.spriteMetaData.orientation.jagged || null;
            const header = this.spriteMetaData.orientation.header || 0;
            const pad = this.spriteMetaData.orientation.pad || 0;
            // This is initial output position on the canvas
            const x = this.INIT_POSITION.x;
            const y = this.INIT_POSITION.y;

            // Calculate the dimensions of each individual sprite
            const spriteWidth = sheetWidth / cols;
            const spriteHeight = (sheetHeight - header * rows) / rows;

            console.log(`Sprite Sheet Dimensions: ${sheetWidth}x${sheetHeight}`);
            console.log(`Individual Sprite Dimensions: ${spriteWidth}x${spriteHeight}`);
            console.log(`Rows: ${rows}, Columns: ${cols}`);

            // Nested for loop to draw 2 dimensional sprite sheet
            for (let row = 0; row <  rows; row++) {
                const columnsInRow = jagged ? jagged[row] || cols : cols;
                for (let col = 0; col < columnsInRow; col++) {
                    const srcX = col * spriteWidth;
                    const srcY = row * (spriteHeight + header ) - (pad * row);
                    const destX = x + col * spriteWidth;
                    const destY = y + row * spriteHeight;
                    const destWidth = spriteWidth;
                    const destHeight = spriteHeight;

                    console.log(`Drawing row: ${row}, column: ${col}`);
                    console.log(`Source: (${srcX}, ${srcY}, ${spriteWidth}, ${spriteHeight})`);
                    console.log(`Destination: (${destX}, ${destY}, ${destWidth}, ${destHeight})`);

                    this.ctx.drawImage(
                        this.spriteImage,
                        srcX, srcY + header, spriteWidth, spriteHeight, // Source rectangle
                        destX, destY, destWidth, destHeight // Destination rectangle
                    );
                }
            }
        }

    }

    // Setup to Tux sprite
    const tux = new CanvasData(TuxSpriteMetaData());
 }

defineAndDrawSprite();
</script>


  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="mirabelle2025/mirabellea_2025"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/mirabellea_2025/csse/javascript/fundamentals/for-loops/" hidden></a>
</article>

    </div>
  </main><footer class="site-footer h-card">
  <data class="u-url" href="/mirabellea_2025/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="http://localhost:4100/mirabellea_2025/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/mirabellea_2025/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Class of 2025</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
  <a rel="me" href="https://github.com/nighthawkcoders" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/mirabellea_2025/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://x.com/NighthawkCoding/" target="_blank" title="x">
    <svg class="svg-icon grey">
      <use xlink:href="/mirabellea_2025/assets/minima-social-icons.svg#x"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://www.youtube.com/@nighthawkcodingsociety2868" target="_blank" title="youtube">
    <svg class="svg-icon grey">
      <use xlink:href="/mirabellea_2025/assets/minima-social-icons.svg#youtube"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>
</html>
